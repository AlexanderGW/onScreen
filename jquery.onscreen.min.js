(function(e){e.fn.onScreen=function(t){var n={container:window,direction:"vertical",toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",debug:false};if(t!="remove"){e.extend(n,t)}return this.each(function(){function i(){e(r).off("scroll.onScreen resize.onScreen");e(window).off("resize.onScreen")}function b(){if(y){return m<h-n.tolerance&&o<m+d-n.tolerance}else{return m<l-n.tolerance&&m>-d+n.tolerance}}function w(){if(y){return m+(d-n.tolerance)<o||m>h-n.tolerance}else{return m>l-n.tolerance||-d+n.tolerance>m}}function E(){if(y){return g<p-n.tolerance&&u<g+v-n.tolerance}else{return g<c-n.tolerance&&g>-v+n.tolerance}}function S(){if(y){return g+(v-n.tolerance)<u||g>p-n.tolerance}else{return g>c-n.tolerance||-v+n.tolerance>g}}function x(){if(s){return false}if(n.direction==="horizontal"){return E()}else{return b()}}function T(){if(!s){return false}if(n.direction==="horizontal"){return S()}else{return w()}}function N(e,t,n){var r,i,s;return function(){i=arguments;s=true;n=n||this;if(!r){(function(){if(s){e.apply(n,i);s=false;r=setTimeout(arguments.callee,t)}else{r=null}})()}}}var r=this;if(t==="remove"){i();return}var s=false;var o;var u;var a=e(this);var f;var l;var c;var h;var p;var d;var v;var m;var g;var y=e.isWindow(n.container);var C=function(){if(!y&&e(n.container).css("position")==="static"){e(n.container).css("position","relative")}f=e(n.container);l=f.height();c=f.width();h=f.scrollTop()+l;p=f.scrollLeft()+c;d=a.outerHeight(true);v=a.outerWidth(true);if(y){var t=a.offset();m=t.top;g=t.left}else{var r=a.position();m=r.top;g=r.left}o=f.scrollTop();u=f.scrollLeft();if(n.debug){console.log("Container: "+n.container+"\n"+"Width: "+l+"\n"+"Height: "+c+"\n"+"Bottom: "+h+"\n"+"Right: "+p);console.log("Matched element: "+(a.attr("class")!==undefined?a.prop("tagName").toLowerCase()+"."+a.attr("class"):a.prop("tagName").toLowerCase())+"\n"+"Left: "+g+"\n"+"Top: "+m+"\n"+"Width: "+v+"\n"+"Height: "+d)}if(x()){if(n.toggleClass){a.addClass(n.toggleClass)}if(e.isFunction(n.doIn)){n.doIn.call(a[0])}if(n.lazyAttr&&a.prop("tagName")==="IMG"){var i=a.attr(n.lazyAttr);a.css({background:"url("+n.lazyPlaceholder+") 50% 50% no-repeat",minHeight:"5px",minWidth:"16px"});a.prop("src",i)}s=true}else if(T()){if(n.toggleClass){a.removeClass(n.toggleClass)}if(e.isFunction(n.doOut)){n.doOut.call(a[0])}s=false}};if(window.location.hash){N(C,50)}else{C()}if(n.throttle){C=N(C,n.throttle)}e(n.container).on("scroll.onScreen resize.onScreen",C);if(!y){e(window).on("resize.onScreen",C)}if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=jQuery}else{if(typeof define==="function"&&define.amd){define("jquery-onscreen",[],function(){return jQuery})}}})}})(jQuery)